var request = require('request');
var $rdf = require('rdflib');

function retrieve(url, cb) {

  if (typeof url === 'function') {
    cb = url;
    url = undefined;
  }
  return request(url || 'http://schema.rdfs.org/all.nt', function(err, response, body) {
    var kb = new $rdf.IndexedFormula();
    $rdf.parse(body, kb, 'http://schema.rdfs.org/all.nt', 'text/n3');
    var uris = kb.objectIndex['<http://www.w3.org/2000/01/rdf-schema#Class>'].map(function(c) {
      return "<" + c.subject.uri + ">";
    });
    console.log(kb.statementsMatching(undefined,"<http://www.w3.org/2000/01/rdf-schema#Class>", undefined));

    // Object.keys(kb).forEach(function(k) {
    //   kb[k] = kb[k].length || Object.keys(kb[k]).length;
    // })

  });
}

retrieve();

// Formula, query, hashString, uris. statementsMatching